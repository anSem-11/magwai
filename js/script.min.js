document.addEventListener("DOMContentLoaded",()=>{let o=document.querySelector(".cards__list"),t=document.querySelector(".cards__btn");var e=document.querySelectorAll(".order__btn");let r=document.querySelector(".modal-bg");var s=document.querySelector(".modal-close-btn");let c=10,n=document.querySelector(".form"),l=document.querySelector("#name"),d=document.querySelector("#phone"),a=document.querySelector(".header__burger"),i=document.querySelector(".header__menu");var u=document.querySelectorAll(".header__menu-link");document.querySelector(".header__contacts-mob");t.addEventListener("click",function(){let e=new XMLHttpRequest;e.open("GET","https://jsonplaceholder.typicode.com/posts?_start="+(c+5)+"&_limit=5",!0),e.onload=function(){200===e.status&&(JSON.parse(e.responseText).forEach(function(e){var t;c<30&&((t=document.createElement("div")).className="cards__item",t.innerHTML='<img src="../img/card-1.jpg" alt="Card Image"><div class="cards__item-info"><h3 class="cards__item-title">'+e.title+'</h3><h4 class="cards__item-subtitle">How to increase your productivity with a Music</h4><p  class="cards__item-text">'+e.body+'</p><a class="cards__item-link">Continue reading</a></div>',o.appendChild(t),c++)}),30<=c)&&(t.disabled=!0)},e.send()}),e.forEach(function(e){e.addEventListener("click",function(){r.classList.add("bg-active"),document.body.style.overflow="hidden",a.classList.remove("touched"),document.body.classList.remove("noscroll"),i.classList.remove("visible")})}),s.addEventListener("click",function(){r.classList.remove("bg-active"),document.body.style.overflow=""});let m=IMask(d,{mask:"+{7}(000)-000-00-00"});function v(e,t){let o=document.createElement("p");o.className="form__error",o.textContent=t,e.parentElement.appendChild(o),e.classList.add("form__input--error"),e.addEventListener("input",function(){o.remove(),e.classList.remove("form__input--error")})}n.addEventListener("submit",function(e){e.preventDefault(),""===l.value.trim()?v(l,"Пожалуйста, введите ваше имя"):""===m.unmaskedValue.trim()?v(d,"Пожалуйста, введите ваш телефон"):(e=m.value.trim(),/^\+7\(\d{3}\)-\d{3}-\d{2}-\d{2}$/.test(e)?(n.submit(),n.reset()):v(d,"Пожалуйста, введите корректный номер телефона"))}),a&&a.addEventListener("click",e=>{e.preventDefault(),a.classList.toggle("touched"),document.body.classList.toggle("noscroll"),i.classList.toggle("visible")});for(let e=0;e<u.length;e++)u[e].addEventListener("click",e=>{e.preventDefault(),a.classList.remove("touched"),document.body.classList.remove("noscroll"),i.classList.remove("visible")})});